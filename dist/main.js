!function(t){var e={};function s(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(o,i,function(e){return t[e]}.bind(null,i));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=6)}([function(t,e,s){const o=s(1);function i(t){this.game=t.game,this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color}i.prototype.draw=function(t){t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!1),t.fillStyle=this.color,t.fill()},i.prototype.move=function(){this.pos[0]+=this.vel[0],this.pos[1]+=this.vel[1],this.game.isOutOfBounds(this.pos)&&this.isWrappable&&(this.pos=this.game.wrap(this.pos))},i.prototype.isCollidedWith=function(t){return this.radius+t.radius>o.distanceBetween(this.pos,t.pos)},i.prototype.collideWith=function(t){},i.prototype.isWrappable=!0,t.exports=i},function(t,e){const s={inherits(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},randomVec(t){const e=2*Math.PI*Math.random();return s.scale([Math.sin(e),Math.cos(e)],t)},scale:(t,e)=>[t[0]*e,t[1]*e],norm:t=>s.distanceBetween([0,0],t),dir(t){const e=s.norm(t);return s.scale(t,1/e)},distanceBetween:(t,e)=>Math.sqrt((e[0]-t[0])**2+(e[1]-t[1])**2)};t.exports=s},function(t,e,s){const o=s(1),i=s(0),n=s(3),r=s(4),l={color:"#ff6ec7",radius:25};function c(t){i.call(this,{game:t.game,pos:t.pos,vel:o.randomVec(1),radius:l.radius,color:l.color})}o.inherits(c,i),c.prototype.collideWith=function(t){t instanceof n?t.relocate():t instanceof r&&this.game.remove(this)},t.exports=c},function(t,e,s){const o=s(1),i=s(0),n=s(4),r={color:"#3fc1c9",radius:10};function l(t){i.call(this,{game:t.game,pos:t.pos,vel:[0,0],radius:r.radius,color:r.color})}o.inherits(l,i),l.prototype.relocate=function(){this.pos=this.game.randomPosition(),this.vel=[0,0]},l.prototype.impulse=function(t){this.vel[0]+=t[0],this.vel[1]+=t[1]},l.prototype.fireBullet=function(){if(0===this.vel[0]&&0===this.vel[1])return;const t=o.scale(o.dir(this.vel),n.SPEED),e=[t[0]+this.vel[0],t[1]+this.vel[1]],s=new n({game:this.game,pos:this.pos.slice(),vel:e});this.game.addBullets(s)},t.exports=l},function(t,e,s){const o=s(1),i=s(0),n="#ffffff",r=2,l=function(t){i.call(this,{game:t.game,pos:t.pos,vel:t.vel,radius:r,color:n})};l.SPEED=1,o.inherits(l,i),l.prototype.isWrappable=!1,t.exports=l},function(t,e,s){const o=s(2),i=s(3);function n(){this.asteroids=[],this.bullets=[],this.addAsteroids(),this.ship=new i({game:this,pos:this.randomPosition()})}n.prototype.addAsteroids=function(){for(let t=0;t<n.NUM_ASTEROIDS;t++){const t=new o({pos:this.randomPosition(),game:this});this.asteroids.push(t)}},n.prototype.addBullets=function(t){this.bullets.push(t)},n.prototype.randomPosition=function(){return[Math.random()*n.DIM_X,Math.random()*n.DIM_Y]},n.prototype.draw=function(t){t.clearRect(0,0,n.DIM_X,n.DIM_Y),t.fillStyle="black",t.fillRect(0,0,n.DIM_X,n.DIM_Y),this.allObjects().forEach(e=>{e.draw(t)})},n.prototype.moveObjects=function(){this.allObjects().forEach(t=>{t.move()})},n.prototype.wrap=function(t){let e=t[0],s=t[1];return e<0?e=n.DIM_X:e>n.DIM_X&&(e=0),s<0?s=n.DIM_Y:s>n.DIM_Y&&(s=0),[e,s]},n.prototype.checkCollisions=function(){for(let t=0;t<this.allObjects().length;t++)for(let e=t+1;e<this.allObjects().length;e++){const s=this.allObjects()[t],o=this.allObjects()[e];s.isCollidedWith(o)&&s.collideWith(o)}},n.prototype.step=function(){this.moveObjects(),this.checkCollisions()},n.prototype.remove=function(t){const e=this.asteroids.indexOf(t);this.asteroids.splice(e,1)},n.prototype.allObjects=function(){return this.asteroids.concat([this.ship],this.bullets)},n.prototype.isOutOfBounds=function(t){return t[0]<0||t[0]>n.DIM_X||(t[1]<0||t[1]>n.DIM_Y)},n.DIM_X=1200,n.DIM_Y=800,n.NUM_ASTEROIDS=15,t.exports=n},function(t,e,s){const o=s(0),i=s(2),n=(s(5),s(7));window.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("game-canvas").getContext("2d"),e=new n(t);window.Asteroid=i,window.MovingObject=o,e.start()})},function(t,e,s){const o=s(5);function i(t){this.game=new o,this.ctx=t}i.prototype.start=function(){setInterval(()=>{this.game.step(),this.game.draw(this.ctx),this.bindKeyHandlers()},2),setInterval(()=>{this.bindFireHandler()},250)},i.prototype.bindKeyHandlers=function(){const t=this.game.ship;(key.isPressed("a")||key.isPressed("left")||key.isPressed("h"))&&t.impulse([-.05,0]),(key.isPressed("d")||key.isPressed("right")||key.isPressed("l"))&&t.impulse([.05,0]),(key.isPressed("w")||key.isPressed("up")||key.isPressed("k"))&&t.impulse([0,-.05]),(key.isPressed("s")||key.isPressed("down")||key.isPressed("j"))&&t.impulse([0,.05])},i.prototype.bindFireHandler=function(){const t=this.game.ship;key.isPressed("space")&&t.fireBullet()},t.exports=i}]);